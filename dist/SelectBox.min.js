!function(){var e=["<div class='selectBox {{ngSelectBoxClass}}' ng-click='show()'>","<span class='selected {{ngPlaceholderClass}}'>{{label}}</span>","<span class='selectArrow'>&#9660</span>","<input type='hidden' ng-model='ngSelectedValue' name='{{ngHtmlName}}' dynamic-name ng-required='{{ngIsRequired}}'/>","</div>"].join("\n");angular.module("$selectBox",[]).directive("selectBox",function(){return{restrict:"E",require:["ngModel"],template:e,scope:{ngSelectedValue:"=",ngTitle:"@",ngItemName:"@",ngItemId:"@",ngData:"@",ngPopup:"@",ngPopupClass:"@",ngHtmlName:"@",ngIsRequired:"@",ngPlaceholder:"@",ngHeaderClass:"@",ngSelectChanged:"&",ngPlaceholderClass:"@",ngSelectBoxClass:"@"},controller:["$scope","$element","$ionicModal","$ionicPopup","$parse",function(o,e,n,l,c){o.ngPlaceholder=o.ngPlaceholder?o.ngPlaceholder:"",o.ngIsRequired=!!o.ngIsRequired&&JSON.parse(o.ngIsRequired||!1),o.ngPopup=!!o.ngPopup&&JSON.parse(o.ngPopup||!1),o.ngPopupClass=o.ngPopupClass?o.ngPopupClass:"",o.label=o.ngPlaceholder,o.ngPlaceholderClass=o.ngPlaceholderClass?o.ngPlaceholderClass:"",o.ngSelectBoxClass=o.ngSelectBoxClass?o.ngSelectBoxClass:"",o.show=function(){var e=c(o.ngData);o.ngDataObjects=e(o.$parent),o.ngHeaderClass=o.ngHeaderClass?o.ngHeaderClass:"",JSON.parse(o.ngPopup||!1)?o.showPopup():o.showSelectModal()},o.showSelectModal=function(){o.renderModal(),o.modal.show().then(function(e){o.modal.el.style.zIndex=99})},o.showPopup=function(){o.renderPopup()},o.closeSelectModal=function(){o.modal&&o.modal.hide()},o.closePopup=function(){o.popup&&o.popup.close()},o.$on("$destroy",function(e){o.modal&&o.modal.remove()}),o.$watch("ngPlaceholder",function(e,n){n==o.label&&o.setPlaceholderLabel(e)}),o.$watch("ngSelectedValue",function(e,n){if(void 0!==e){var l=c(o.ngData);o.ngDataObjects=l(o.$parent);for(var a=0,t=o.ngDataObjects.length;a<t;a++)o.ngDataObjects[a][o.ngItemId]==e&&o.setPlaceholderLabel(o.ngDataObjects[a][o.ngItemName])}else o.setPlaceholderLabel(o.ngPlaceholder)}),o.renderModal=function(){o.modal=n.fromTemplate('<ion-modal-view id="select" class="ionic-select-enable '+o.ngPopupClass+'"><ion-header-bar class="'+o.ngHeaderClass+'"><h1 class="title">'+o.ngTitle+'</h1> <a ng-click="closeSelectModal()" class="button button-icon icon ion-close ionic-select-enable"></a></ion-header-bar><ion-content><ion-list class="ionic-select-enable"><ion-item class="ionic-select-enable" ng-click="clickItem(item);" ng-repeat="item in ngDataObjects" ng-bind-html="item[\''+o.ngItemName+"']\"></ion-item></ion-list> </ion-content></ion-modal-view>",{scope:o,animation:"slide-in-right",backdropClickToClose:!1})},o.renderPopup=function(){o.popup=l.alert({title:o.ngTitle,scope:o,template:'<ion-list class="ionic-select-enable"><ion-item class="ionic-select-enable item-text-wrap" ng-click="clickItem(item);" ng-repeat="item in ngDataObjects" ng-bind-html="item[\''+o.ngItemName+"']\"></ion-item></ion-list>",cssClass:""+o.ngPopupClass})},o.clickItem=function(e){o.ngSelectedValue=e[o.ngItemId],o.label=e[o.ngItemName],o.ngPopup?o.closePopup():o.closeSelectModal(),o.ngSelectChanged({selectedValue:o.ngSelectedValue})},o.setPlaceholderLabel=function(e){o.label=e},o.$on("reset",function(){o.setPlaceholderLabel(o.ngPlaceholder),o.ngSelectedValue=null})}],compile:function(e,n){var l=e.find("input.selected");angular.forEach({name:n.name,"ng-model":n.ngSelectedValue},function(e,n){angular.isDefined(e)&&l.attr(n,e)})}}}).directive("dynamicName",function(){return{restrict:"A",priority:-1,require:["ngModel"],link:function(e,n,l,a){a[0].$name=l.name}}})}();
//# sourceMappingURL=SelectBox.min.js.map
